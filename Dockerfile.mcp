FROM mcr.microsoft.com/playwright:v1.50.0-jammy

WORKDIR /mcp

ENV PORT=3333
ENV HEADLESS=false

RUN apt-get update \
    && apt-get install -y --no-install-recommends git \
    && rm -rf /var/lib/apt/lists/*

# Install from GitHub by default (package isn't published to npm under @microsoft/*).
RUN npm install -g github:microsoft/playwright-mcp

COPY docker/mcp-entrypoint.sh /mcp-entrypoint.sh
RUN chmod +x /mcp-entrypoint.sh

ENTRYPOINT ["/mcp-entrypoint.sh"]
